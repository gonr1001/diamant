
\documentclass{llncs}
\bibliographystyle{alpha}
\usepackage[T1]{fontenc}
\usepackage{dfd,hhline}
\usepackage{verbatim}
\setlength{\parskip}{1.5ex plus0.5ex minus0ex}

\newcommand{\bi}{\begin{itemize}}
\newcommand{\ei}{\end{itemize}}

\newcommand{\ang}{\textsf}
\newcommand{\key}{\textsf}
\newcommand{\ita}{\textit}
\newcommand{\bld}{\textbf}
\newcommand{\dos}{\textsc}
\newcommand{\pro}{\texttt}

\newcommand{\saphir}{SAPHIR}
\newcommand{\diamant}{DIAMANT}
\newcommand{\tictac}{Tic-Tac}
\newcommand{\xp}{eXtreme Programming}
\def\eXit{$\epsilon$\kern-.100em \lower.5ex\hbox{X}\kern-.125emit}


\title{\bf{L'architecture d'un système de production des horaires
de cours et des examens dans une Université}}
\author{Ruben Gonzalez Rubio \\Domingo Palao}
\institute{Département de génie électrique et de génie informatique \\
Université de Sherbrooke,\\
\email{Ruben.Gonzalez-Rubio@USherbrooke.ca} \\
\email{Domingo.Palao@USherbrooke.ca} }
\date{}

\begin{document}
\maketitle

\begin{abstract} \label{intro}


\end{abstract}

{\bf Mots clé :} Production d'horaires, Génie logiciel, Qualité.

\section{Introduction}

\begin{enumerate}
\item Motivation

\item Définition du problème

\item La question spécifique que vous allez travailler

\item Panorama générale

\item Travail connexe.
\end{enumerate}

La production d'horaires est une tâche périodique pour beaucoup
d'institutions d'enseigement, en particulier pour les Universités
(Facultés) qui produisent un ou plusieurs horaires par année pour
les cours et les examens. Afin de simplifier le texte dans
l'article nous allons traiter uniquement le cas d'horaires de
cours. Dans cet article nous nous intéressons au processus global
de la production des horaires depuis la saisie de données jusqu'à
la livraison des horaires généraux et personnalisés. La production
d'horaires est automatisé à differents dégrés, par exemple~: elle
peut comporter un logiciel de construction d'horaires qui peut
produire un fichier contenant l'horaire qui sera affiché dans une
place connue ou mise en formet HTML afin de l'affcher sur le Web.
Dans certains cas, la production se fait manuellement. Comme la
production d'horaires ne doit pas être interrompue. L'institution
doit faire le choix entre implanter un nouveau système et oublier
le système actuel ou faire des changements graduels au système
existant. Le risque de la première option est trop élevé, car si
un problème arrive, le nouveau système peut se trouver dans un
impasse représentant un coût important. La deuxième solution
présente un risque moderé, car pour chaque nouveau composant
ajouté au système il est possible de revenir à l'ancien composant,
aussurant ainsi la production d'horaires.

L'objectif de cet article est de modéliser ce processus de production
d'horaires pour
prendre des décisions permettant son automatitation.
Ceci peut faciliter les développement et l'implantation d'un système
sur deux points de vue~:

\begin{itemize}
    \item Le développement d'interfaces logiciels entre
les différents constituants du système, ceci peut conduire à
développer de nouveau modules ou à la modification de modules existants.

    \item L'intégration graduelle de nouveaux modules dans le temps,
    afin de perturber le moins possible les utilisateurs du système.
\end{itemize}

Nous utiliserons comme source d'inspiration primaire pour la modèlisation de la
production d'un horaire, le processus actuel de l'Université de
Sherbrooke.
Ensuite nous établirons un modèle plus génèral.


Cet article propose~:

\begin{itemize}
    \item  un analyse

    \item  deux

    \item  trois
\end{itemize}



\section{Les données}

Comme indiqué, nous allons décrire la production des horaires
simplifié à l'Université de Sherbrooke, car nous connaisons bien
le processus pour avoir developpé \diamant{}
\cite{gonzalezrubio00}.

Tout d'abord le processus de production  d'horaires sera défini
comme le processus commençant lorsque on commence à la saisie de
données pour le trimestre $T$ (trimestre\footnote{Dans
l'Université de Sherbrooke on parle de trimestre, mais en réalité
il comporte seize semaines (presque quatre mois).}) et fini
lorsque toutes le personnes concernés reçoivent l'horaire sur un
support papier ou sur le Web, voir figure \ref{fig:phOne}.
Signalons que à l'Université de Sherbrooke il existe des Facultés
où les étudiants font un pré-choix et d'autres où les horaires
sont fait sans pré-choix. Dans le deux cas il faut livrer
l'horaire aux personnes concernées.

\begin{figure}[htb] \begin{center}
\setlength{\unitlength}{0.1cm}
\begin{picture}(90,40)
\deffilebox{20}{10}{0.2}
\defprocessbox{20}{16}
\put(0, 15){\fichier[\pro{Données}]}

\put( 20,20){\vector(1,0){15}}

\put(35, 12){\process[Système de\\production \\ d'horaires]}

\put(55, 20){\vector(1,0){7}}
\put(62, 20){\corner[y]{-10}{8}}
\put(62, 20){\corner[y]{10}{8}}

\put(70, 25){\fichier[\pro{Papier}]}

\put(70, 5){\fichier[\pro{Web}]}
\end{picture}
\end{center}
\caption{La production d'horaires}\label{fig:phOne}
\end{figure}

La figure \ref{fig:phOne} est une vue de très haut niveau de la
production d'horaires.

\begin{description}
    \item[Système de production d'horaires] Il est composé de plusieurs tâches,
chaque tâche peut être effectué manuellement ou à l'aide d'un ou plusieurs logiciels,
qui fonctionnent de manière autonome, mais coordonnée.

    \item[\pro{Données}] représentent des données nécessaires à la production
d'horaires, dans le schéma il n'est pas indiqué que ces données
peuvent être manipulés par les tâches du système de production
d'horaires. Une tâche va produire parfois de nouvelles données, qui
seront utilisés par les tâches suivantes dans le processus.
En simplifiant les données peuvent être contenues dans des fichiers ou dans une base
de données ou encore dans de fichiers et dans une base de données.
Dans ce qui suit on parlera de base de données pour se référer  aux
données.

 \item[\pro{Papier} ou \pro{Web}] Il s'agit des sorties du système
   il' peuvent être des fichiers
produits à partir des données de manière automatique, semi-automatique
ou manuellement. Par exemple à partir de données un programme peut
fabriquer toutes les lettres à envoyer aux étudiants (de manière
personnalisé). Une personne peut produire les lettres personnalisées avec un
traitement de textes, avec un fichier des données pour la
personnalisation. Une personne va produire le lettres personnalisées
en lisant les données nécessaires sur un fichier.
\end{description}

\subsection{L'évolution des données}
La figure \ref{fig:phTwo} montre l'évolution des données dans la base
de données pendant la production de l'horaire.  La base de données est
la même, l'évolution présente les
instances de données à différents instants du processus.


\begin{figure}[htb] \begin{center}
\setlength{\unitlength}{0.1cm}
%\fbox{%
\begin{picture}(90,40)
\deffilebox{20}{10}{0.2}
\defprocessbox{20}{16}
%\put(0,0){\fichier[Données]}
%\put( 10, 2){\corner{20}{4}}
\put(0, 15){\fichier[$bd_{1}$]}
\put(0, 5){\makebox(20,10){Données de base}}
\put(20, 20){\vector(1,0){10}}
\put(30, 15){\fichier[$bd_{2}$]}
\put(30, 5){\makebox(20,10){Données trimestre}}
\put(50, 20){\vector(1,0){10}}
\put(60, 15){\fichier[$bd_{3}$]}
\put(60, 5){\makebox(20,10){Données horaire}}
\end{picture}%}
\end{center}

\caption{L'évolution des données pendant la production d'un horaire}\label{fig:phTwo}
\end{figure}


\begin{description}
    \item[Données de base] Ces données sont les données définis à long
    terme dans la base.  L'information des activités pédagogiques d'un
    programme, les programmes offerts, les enseignants, les
    caracteristiques de salles de
    cours, les étudiants.
    Il s'agit en général des informations qui sont pertagées par
    d'autres applications. Par exemple un étudiant est décrit par son
    nom, prénom, matricule, programme suivi. Une application qui
    utilisé les données étudiants est par exemple celle qui permet
    d'imprimer les notes d'un étudiant.


    \item[Données trimestre] Ces données sont nécessaires à la
    construction de l'horaire, elles concenent les cours qui seront
    offerts, la disponibilité de enseignants, etc. Ces données sont
    un préalable à la construction d'un horaire et sont saisies avant
    et oendant
    chaque construction.

    \item[Données horaire] Ces donnés sont le résultat de la tâche de la
    construction de l'horaire. Elles vont contenir toutes les
    informations nécessaires pour imprimer ou afficher des horaires
    personnalisés.
\end{description}

Nous considérons que les données du trimestre commencent à exister à
un instant $t_{0}$ avant que les cours du trimestre commencent et
ne sont plus pértinentes  à l'instant $t_{f}$ qui est la fin du
trimestre.

Étapes de construction~:

Pré-condition les données de base ont été saisies et validés.

\begin{enumerate}
    \item  Choisir les activités pédagogiques du trimestre

    \item  Choisir les enseignants disponibles et associer une
    disponiblilité

    \item  Choisir les locaux disponibles et et associer une
    disponiblilité

    \item  Associer un format aux activités pédagogiques, associer un
    nombre de groupes à chaque type d'activité

    \item  Définir la grille horaire.
\end{enumerate}

 De plus, lorsque un logiciel de construction est utilisé,
il est possible de considèrer que toutes les données nécessaires ont
été correctement saisies et que il y n'aura aucun changement pendant
la construction de l'horaire; une deuxième possibilité, qui semble
plus réaliste est de considèrer que certains données peuvent changer,
par exemple certains cours sont enseignés par de intervenants
externes, mais la personne n'est pas encore trouvé, sa disponibilité
n'est pas connue, donc l'horaire est construit sur des hypothèses qui
peuvent s'avérer fausses.

Avant de parler de effecuer la construction avec un logiciel, il faut faire
une verification des données.

La construction peut se faire de manière automatique, le logiciel va
produire un horaire au complet. La construction peut se faire de
manière manuelle, ave
construit avec des hypothèse

On suppose que lorsque on décide de produire un horaire il existe une
base de données contenant tous les cours qu'une Faculté peut offire,
tous les enseignants d'une Faculté, tous les locaux dispponibles pour
cette Faculté.


La première tâche à faire est celle de définir les cours qui seront
offerts à l'horaire pendant le trimestre. Ensuite on défini les
enseignants qui seront en charge de chacun des cours plus leur
disponibilité, et on defini
le format du cours (2 heures LM + 1 heure LM + 3 Lab), puis le nombre
de groupes, éventuellement si l'horaire un cours est déjà défini.

Lorsque tous ces informations sont saisies, le programme \diamant{}
peut commencé à être utilisé pour la construction de l'horaire.

La première étape est de charger les informations qui sont dans la
base de données et faire une première validation des données. Les
conflits entre deux cours, la disponibilité d'un enseignant, et autres.

Lorsque la première validation est faite, on peux commencer à parler
de la construction de l'horaire en mode manuel ou en mode automatique
ou en utilisant le deux.

Lorsque l'horaire est défini et satisfaisant, les données sont
transféres à la base de données, pour construir les fichier
nécessaires à la livraison de l'horaire.


\section{La decomposition modulaire, top-down, alternatives et
justifications}

\section{Technologies possibles et justifications.}

\section{\tictac}

\section{Conclusions}

\bibliography{bibDiamant,bibProg}

\end{document}

{\bf Introduction. } La production d'horaires est une tâche
périodique pour plusieurs institutions d'enseignement, en
particulier pour les Universités qui produisent un ou plusieurs
horaires par année pour les cours et les examens, selon le numéro
de sessions qui offrent aux étudiants. Afin de simplifier le texte
dans l'article nous allons traiter uniquement le cas d'horaires de
cours, nous considérons que les horaires d'examens sont un cas
particulier des horaires de cours dans lesquels il peut avoir
moins de contrains.

Dans cet article nous nous intéressons au processus global de la
production des horaires à partir de la saisie de données jusqu'à
la livraison des horaires généraux et personnalisés, selon
l'intérêt de l'utilisateur.

Dans la littérature nous avons trouvé que la plupart des
recherches envisagent un bon algorithme d'optimisation dans la
fabrication des horaires, mais il y a très peu d'information sur
la modélisation des données et presque rien pour l'intégration des
systèmes d'horaires dans l'ensemble des systèmes d'information des
Universités.

Nous croyons que le système d'horaires n'est qu'un sous-ensemble
de tout le système d'information d'une institution d'éducation
supérieure. Notre but est la création d'un système de production
d'horaires avec une approche que nous appellerons plus génie
logiciel, nous cherchons l'interaction avec plusieurs systèmes de
gestion d'information de l'université, ainsi que la création d'un
logiciel avec hauts niveaux de qualité \cite{meyer97}.

La production d'horaires est automatisé à différents degrés, par
exemple: elle peut comporter un logiciel de construction
d'horaires qui peut produire un fichier contenant l'horaire qui
sera affiché dans une place connue ou mise en format HTML afin de
l'afficher sur le Web. Dans certains cas, la production se fait
manuellement. Le degré d'automatisation est varié selon la
complexité de l'institution.

La production d'horaires ne doit pas être interrompue.
L'institution doit faire le choix entre implanter un nouveau
système et oublier le système actuel ou faire des changements
graduels au système existant. Le risque de la première option est
trop élevé, car si un problème arrive, le nouveau système peut se
trouver dans une impasse représentant un coût important. La
deuxième solution présente un risque modéré, car pour chaque
nouveau composant ajouté au système il est possible de revenir à
l'ancien composant, assurant ainsi la production d'horaires.

L'objectif de cet article est de montre le processus de
modélisation de la production d'horaires pour prendre des
décisions permettant son automatisation. Ceci peut faciliter les
développement et l'implantation d'un système sur deux points de
vue:
\begin {itemize}
\item Le développement d'interfaces logicielles entre les
différents constituants du système, ceci peut conduire à
développer de nouveau modules ou à la modification de modules
existants.

\item L'intégration graduelle de nouveaux modules dans le temps,
afin de perturber le moins possible les utilisateurs du système.
\end {itemize}

Nous utiliserons comme source d'inspiration primaire pour la
modélisation de la production d'un horaire, le processus actuel de
l'Université de Sherbrooke. Ensuite nous établirons un modèle plus
général.

Cet article propose:

\begin {itemize}
\item Un analyse
\end{itemize}


\section{La production  d'horaires à l'Université}

\subsection{Le contexte}

La production des horaires est devenue plus complexe avec
l'apparition des systèmes logiciels que d'une manière intégrale
gèrent les informations des universités.

Nous connaissons bien le processus de création d'horaires pour une
université pour avoir développé deux versions du logiciel Diamant.
Diamant est un logiciel qui permet la génération d'horaires de
manière interactive et automatisé qui est utilisé pour créer des
horaires dans plusieurs facultés de l'Université de Sherbrooke
\cite{gonzalezrubio00}. Pendante ces travaux, nous avons constaté
que l'intégration du système de création d'horaires avec le reste
des systèmes dans l'Université est devenue complexe, à cause de
plusieurs facteurs, entre autres : ·   L'existence de plusieurs
systèmes, matérielle, systèmes d'exploitation, logiciel, etc. ·
Incompatibilités entre les formats d'échange des fichiers. ·   Des
anciens systèmes qui n'étaient pas conçus pour s'adapter aux
nouveaux besoins des utilisateurs.

Nous avons trouvé que la plupart des recherches sur la gestion et
construction des horaires sont centrées dans le fait de trouver le
meilleur algorithme d'optimisation pour la affectation des
ressources, mais il y a très peu de recherche sur les structures
de données pour modéliser les horaires, ou la façon d'intégrer un
système d'horaires dans l'ensemble des systèmes de gestion
scolaire, Bourke, Kingston et Pepper \cite{burke97} on fait un
travail dans lequel ils proposent des structures de données pour
modéliser les horaires.

Tout d'abord le processus de production d'horaires sera défini
comme le processus commençant lorsque on commence à la saisie de
données pour le trimestre  et fini lorsque toutes les personnes
concernées reçoivent l'horaire sur un support papier ou sur le
Web, voir figure 1.

Signalons que à l'Université de Sherbrooke il existe des Facultés
où les étudiants font un pré-choix et d'autres où les horaires
sont fait sans pré-choix. Dans le deux cas il faut livrer
l'horaire aux personnes concernées.

La figure 1 est une vue de très haut niveau de la production
d'horaires.

Le système de production d'horaires est composé de plusieurs
tâches, chaque tâche peut être effectué manuellement ou à l'aide
d'un ou plusieurs logiciels, qui peuvent fonctionner de manière
autonome, mais coordonnée.

Les données représentent l'information nécessaire à la production
d'horaires, dans le schéma il n'est pas indiqué que ces données
peuvent être manipulés par les tâches du système de production
d'horaires. Une tâche va produire parfois de nouvelles données,
qui seront utilisés par les tâches suivantes dans le processus. En
simplifiant les données peuvent être contenues dans des fichiers
ou dans une base de données ou encore dans de fichiers et dans une
base de données. Dans ce qui suit on parlera de base de données
pour se référer  aux données.

Papier ou Web. Il s'agit des sorties du système il' peuvent être
des fichiers produits à partir des données de manière automatique,
semi-automatique ou manuellement. Par exemple à partir de données
un programme peut fabriquer toutes les lettres à envoyer aux
étudiants (de manière personnalisée). Une personne peut produire
les lettres personnalisées avec un traitement de textes, avec un
fichier des données pour la personnalisation. Une personne va
produire des le lettres personnalisées en lisant les données
nécessaires sur un fichier.

\subsection{L'évolution des données}
 La figure 2 montre l'évolution
des données dans la base de données pendant la production de
l'horaire.  La base de données est la même, l'évolution présente
les instances de données à différents instants du processus.

\begin{itemize}
\item Base de données. Ces données sont les données définies à
long terme.  L'information des activités pédagogiques d'un
programme, les programmes offerts, les enseignants, les
caractéristiques de salles de cours, les étudiants.  Il s'agit en
général des informations qui sont partagées par d'autres
applications. Par exemple un étudiant est décrit par son nom,
prénom, matricule, programme suivi. Une application qui utilisé
les données des étudiants est par exemple celle qui permet
d'imprimer les notes d'un étudiant.

\item Données trimestre Ces données sont nécessaires à la
construction de l'horaire, elles concernent les cours qui seront
offerts, la disponibilité de enseignants, etc. Ces données sont un
préalable à la construction d'un horaire et sont saisies avant et
pendant chaque cycle de construction.

\item Données horaire. Elles sont le résultat de la tâche de la
construction de l'horaire. Elles vont contenir toutes les
informations nécessaires pour imprimer ou afficher des horaires
personnalisés.

\end{itemize}
Nous considérons que les données du trimestre commencent à exister
à un instant $t_0$ avant que les cours du trimestre commencent et
ne sont plus pertinentes  à l'instant $t_f$ qui est la fin du
trimestre.


\subsection {Étapes de construction:}

Pré-condition les données de base ont été saisies et validés.

\begin{enumerate}
\item Choisir les activités pédagogiques du trimestre.

\item Choisir les enseignants disponibles et associer une
disponibilité.

\item Choisir les locaux disponibles et associer une
disponibilité.

\item Associer un format aux activités pédagogiques, c'est-à-dire,
associer un nombre de groupes à chaque type d'activité.

\item Définir la grille horaire.

\end{enumerate}

Il y a deux possibilités pendant qu'un logiciel de construction
d'horaires est utilisé :

\begin{enumerate}
\item Il est possible de considérer que toutes les données
nécessaires ont été correctement saisies et que il y n'aura aucun
changement pendant la construction de l'horaire;

\item Ou bien, une deuxième possibilité, qui semble plus réaliste
est de considérer que certains données peuvent changer, par
exemple certains cours sont enseignés par de intervenants
externes, mais la personne n'est pas encore trouvé, sa
disponibilité n'est pas connue, donc l'horaire est construit sur
des hypothèses qui peuvent s'avérer fausses.
\end{enumerate}

Avant de parler de effectuer la construction avec un logiciel, il
faut faire une vérification des données.

La construction peut se faire de manière automatique, le logiciel
va produire un horaire au complet. La construction peut se faire
de manière manuelle, avec construit avec des hypothèses.

On suppose que lorsque on décide de produire un horaire qu'il
existe une base de données contenant tous les cours qu'une Faculté
peut offre, tous les enseignants, tous les locaux disponibles
ainsi que l'information concernant aux étudiants.

La première tâche à faire est celle de définir les cours qui
seront offerts à l'horaire pendant le trimestre. Ensuite on défini
les enseignants qui seront en charge de chacun des cours plus leur
disponibilité, et on défini le format du cours (2 heures de Leçon
Magistrale + 1 heure de Leçon Magistrale + 3 heures de
Laboratoire), puis le nombre de groupes, éventuellement si
l'horaire un cours est déjà défini.

Lorsque tous ces informations sont saisies, le programme de
production d'horaires peut commencé à être utilisé pour la
construction.

La première étape est de charger les informations qui sont dans la
base de données et faire une première validation des données. Les
conflits entre deux cours, la disponibilité d'un enseignant, et
autres.

Lorsque la première validation est faite, on peut commencer à
parler de la construction de l'horaire en mode manuel ou en mode
automatique ou en utilisant le deux.

Lorsque l'horaire est défini et satisfaisant, les données sont
transférées à la base de données, pour construire les fichiers
nécessaires à la livraison de l'horaire.



+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Section en anglais......

\subsection{L'analyse}
We propose the construction of a timetable for exams as an example
to show how the pattern can be used.

The problem inputs are:

\begin{itemize}
\item A set of exams. \item A set of students who are taking
exams; each student is associated with the exams he/she must take.
\item To simplify the problem, we suppose that there is only one
room with a given capacity. \item An empty timetable. The
timetable is a data structure containing a number of timeslots
which are empty. The algorithm takes one exam at the time, then it
assigns it to a timeslot. Here assign means that the exam will
take place at the assigned timeslot.
\end{itemize}


The timetable covers $n$ days spread in $m$ weeks, the duration
for each exam is t hours ($t=3$), and there are two timeslots each
day: morning and afternoon (9:00 to 12:00 and 14:00 to 17:00).

From a programming point of view, each  \pro{timeslot} is an
instance of class  \pro{Timeslot}. A  \pro{timetable}  is an
instance of \pro{Timetable} class. The  \pro{Timetable} class has
an array of \pro{Timeslot} as a data member. The class
\pro{Timeslot} has a list of exams as a data member. So if an exam
is assigned to a timeslot, the instance of this \pro{timeslot}
will put the exam in its list of exams.


The hard  constraints (conditions) to satisfy are:
\begin{itemize}
\item  No student must have two exams at the same time. \item The
number of students in a period is less that the total capacity.
\end{itemize}

Any produced timetable must respect these constraints. Each
constraint could be seen as a condition to be respected.

The output of the problem is:

\begin{itemize}
\item The timetable where each timeslot is associated to the exams
taking place at this timeslot without conflicts. \item A set of
\ita{exams that are impossible to assign to a timeslot}. If all
exams were assigned this set is empty.
\end{itemize}

The algorithm is:

\begin{enumerate}
\item While the set of exams is not empty do :
\begin{enumerate}
\item Take out the exam with the greatest potential number of
conflicts from the set of exams. \item Assign the exam to the
first timeslot where the conditions are respected (\ita{no
conflict with exams in this period} $ \wedge$ \ita{number of
students in this timeslot less than capacity}). If this is
impossible the exam then it will be placed in the set of
\ita{exams that are impossible to assign to a timeslot}.
\end{enumerate}
\item If the set of \ita{exams impossible to assign to a timeslot}
is empty then print Timetable is ok else print Timetable is not ok
\end{enumerate}

The algorithm is very simple. It tries to assign all the exams in
only one pass. There are two conditions that must be respected:
\ita{no conflict with exams in a period}  $ \wedge$  \ita{number
of students in this period less than capacity}.

Now, consider that a new constraint must be respected, for
example:

{\it All Mathematics exams must be held during the morning}.

In order to handle this new condition it must be possible to
recognize whether an exam is a mathematics exam and whether a
period is a morning period.

The algorithm remains basically the same, but a new (composed)
condition  must be added:  \ita{is this a mathematics exam?} $
\wedge$  \ita{is this a morning period?}. This new condition must
be respected only if the exam is a mathematics one; otherwise, the
algorithm uses the original conditions.

We can explore now the required work to do when other conditions
are added. First, it is necessary to create the methods
(functions) to test the conditions (in the example  \ita{is this a
mathematics exam?} or  \ita{is this a morning period?}. The answer
to these questions are true or false. Second, we need to modify
the algorithm in order to take into account the new conditions.

Before trying to modify the algorithm, let's see what a user can
do if he can make a choice among many conditions. A user will want
to activate or deactivate some conditions when he/she is preparing
a timetable and/or to change priority, i.e., changing the order in
which the conditions are tested. As the proposed algorithm gives a
message at last step indicating if the construction failed, it is
possible to deactivate some conditions and try again. In other
words the constraints are relaxed. Examining the set of \ita{exams
that are impossible to assign}, the user can decide to change the
priorities and try again to obtain a more acceptable solution.

So, we can see that it is worth to have many conditions and offer
a choice to the user. So, how that can this be done? It is easy to
program a dialog box where the user can activate or deactivate the
conditions and at the same time fix an order or priority for
verifying conditions. The conditions are methods that must be
available in the corresponding classes. The difficult part is to
activate or deactivate conditions and change the order. Why? If we
can have a method  \ita{test all conditions} where the all the
tests are done it is necessary to have $n!$ methods to test all
possible permutations of $n$ conditions. It is clear that as the
number of conditions increases the number of methods needed
becomes too big.

In Lisp or Prolog programs, it is easy to construct a permutation
of conditions at execution time, then to insert the resulting
permutation into the program. It is not the case in Java or C++.
For this reason we propose the following pattern which is an
elegant solution to the problem.


\subsection{The solution: the pattern} %% 1 page
A Design pattern is independent of the language, but to facilitate
the presentation we use the Java language because there is a
standard class library. During the presentation we give some
details about useful classes and concepts.

A source of inspiration for the pattern was the Command pattern,
which encloses the request for a specific action inside an object
and gives a know public  \pro{interface}.

In Java an  \pro{interface} is like a class, in the sense that it
can be used as a type. It is used to specify that a class must
implement the methods specified by the interface. It is the way
that Java off some kind of multiple inheritance.



\subsection{Discussion}



\section{Conclusion} \label{sec:conc}
