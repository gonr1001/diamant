\chapter{\eXit{} Conventions de codage}

Ce document indique quels sont les conventions de codage utilisés dans
les projets du groupe \eXit{}.  Il est obligatoire de suivre ces
conventions.


\section*{Une classe doit suivre les conventions suivantes}

\begin{enumerate}

    \item Le code doit suivre les conventions Java
    \verb!http://java.sun.com/docs/codeconv!.

    \item Aucun warning Eclipse sera permis. (voir configuration
    d'Eclipse). \corrpascal{devrait y avoir un lien vers cette configuration}

    \item Le code doit être lisible.  Pour ce faire, les méthodes ne
    doivent pas dépasser 20 lignes, une ligne ne doit pas dépasser 80
    caractères , afin de produire une impression lisible.  Sans
    sacrifier la taille de noms de variables ou
    méthodes. \corrpascal{je trouve ces contraintes bcq trop strictes.
    Il y a une tonne de méthodes dans Diamant qui font bien plus de 20
    lignes.  Parfois ce n'est pas parce que la méthode n'a pas bien
    été découpée ; p.ex. il peut y avoir un embranchement de
    \texttt{if/else} très long ou alors pour des raisons de cohésion
    il ne fait peut-être pas de sens de découper une méthode de 30
    lignes en deux méthodes de 15 lignes, etc.}

    \item Un enchaînement d'appel de méthodes \verb!m1().m2().m3().m4!
    ne doit pas dépasser 4 appels.

    \item Utiliser un bon nom pour indiquer \verb!package!. Il faut le
    mettre après le commentaire général de la classe. \corrpascal{je
    ne comprends pas cette règle}

    \item commentaire général de la classe, bien fait et à la bonne
    place. \corrpascal{où est cette ``bonne place'' ? Qu'est-ce qu'un
    ``bon'' commentaire ?  Je parlerais de rôle de la classe, de sa
    mise en contexte dans le reste du système.}

    \item commentaire général doit contenir le nom de la
    classe. \corrpascal{encore une fois, je ne capte pas très bien le
    sens de cette convention.}

    \item \verb!import!s, toujours avec le nom de la classe à importer
    (pas d'inclusion ``sauvage'' en utilisant l'expression \verb!*!).
    Ordonnées lignes comportant \verb!java!, ligne vide, lignes
    comportant \verb!javax.swing!, ligne vide, lignes comportant
    \verb!lib!, ligne vide lignes comportant les classes de
    l'application.

    \item commentaire de description de la responsabilité de la
    classe. \corrpascal{p-ê redondant avec la convention qui dicte
    qu'il faille inclure de ``bons'' commentaires.}

    \item données membres, toujours \verb!private!, sinon justifier
    par un commentaire. Un commentaire sur leur fonction est
    apprécié. \corrpascal{un champ qui n'est pas privé va à l'encontre
    des ADT.  Je crois que dans ce cas-ci, il faut se positionner
    au pôle extrême qui veut qu'AUCUN champ d'une classe ne peut être
    autre que privé ou protégé.}

    \item les données membres commencent toujours par un \verb!_!

    \item Les noms de variables et méthodes .... \corrpascal{?}

    \item méthode avec commentaires sur paramètres et return, indiquer
    toutes les exceptions que la méthode peut
    jeter. \corrpascal{devrait exiger que ces informations soient dans
    le format javadoc}

    \item une méthode doit aussi contenir des commentaires requires,
    modifies, effets. requires indique les contraintes possibles;
    modifies indique toutes les entrées modifiées; et effets définit
    le comportement. \corrpascal{va à l'encontre du développement
    ``agile''.  Il faudrait trouver un juste milieu entre une
    documentation qui explique bien ce que la méthode doit faire et
    une surcharge de commentaires qui risquent de ne pas être mis à
    jour si changement il y a.}

    \item méthode à redéfinir dans la plus part des classes
    \pro{toString}.

    \item class de tests de toutes les méthodes. \corrpascal{même les
    \texttt{get} et les \texttt{set} ?}

    \item \verb!set! et \verb!get! n'ont pas besoin de
    commentaires.

\end{enumerate}


\section{Cvs}

Il faut mettre l'option Preferences/Global Check out read only
sans coche, et ne pas utiliser Edit selection et Edit reserved
(les crayons dans la règle). Pour éviter le base!

\corrpascal{on ne travaille plus avec WinCVS.}