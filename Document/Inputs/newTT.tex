\chapter{Nouvelle architecture de la grille horaire} 

Ce chapitre présente la nouvelle grille horaire, décrit les interprétations et l'énumération des différentes
informations requises par \diamant{}.

\section{présentation de la grille horaire}

Cette nouvelle grille horaire sera stockée dans un fichier XML comme représenté à la figure \ref{xmltt} et elle permettra de traiter indépendamment chaque cycle.

\subsection{Exemple des données qu'elle contient}

\begin{figure}[h]
  % Requires \usepackage{graphicx}
  \begin{center}
    \includegraphics[width=250pt]{Images/TTxmlContains.eps}
    \caption{Fichier XML de la grille horaire}\label{xmlcontains}
  \end{center}
\end{figure}

\subsection{Signification des données}

Le fichier XML contenant les informations sur la grille horaire est organisé de manière hiérarchique (arbre). Chaque information est encapsulée dans un \emph{tag}. Chaque \emph{tag} donne le grade hiérarchique de l'information sur l'arbre. Cette hiérarchie est décrite comme suit:

\begin{itemize}
    \item \emph{DXTimeTable}: 
    il représente la grille horaire complète et est composé d'un ensemble de tag du type \emph{TTcycle}.\\
    
    \item \emph{TTcycle}: il représente la grille d'un cycle. Un cycle peut être considéré comme une semaine, 8, 10 ou $n$ jours correspondant à la période pendant laquelle toutes les activités devraient être planifiées. Il est composé d'un tag de type \emph{cycleID} correspondant à l'identifiant du cycle, d'un tag de type \emph{pLength} correspondant à la longueur (en minutes et en multiple de 5) d'une période dans ce cycle et d'un tag de type \emph{TTdays}.\\

    \item \emph{TTdays}: il est l'ensemble contenant la liste des journées d'un cycle. Il est composé d'un ensemble de tag de type \emph{TTday}.\\
    
    \item \emph{TTday}: il représente une journée d'un cycle et est composé d'un tag \emph{dayID} correspondant à l'identifiant de la journée et d'un tag de type \emph{TTsequences}.\\

    \item \emph{TTsequences}: il représente l'ensemble des séquences de la journée. Il est composé d'un ensemble de tag de type \emph{TTsequence}.\\

    \item \emph{TTsequence}: il représente une sequence de la journée et est composé d'un tag \emph{sequenceID} correspondant à l'identifiant de la séquence et d'un tag de type \emph{TTperiods}.\\

    \item \emph{TTperiods}: il représente l'ensemble des périodes d'une séquence. Il est composé d'un ensemble de tag de type \emph{TTperiod}.\\

    \item \emph{TTperiod}: il est la plus petite unité de la grille horaire et représente une période de cette grille. Il est composé du tag \emph{time} correspondant à l'heure de debut de la période et du tag \emph{priority} correspondant à la priorité accordée à cette période.\\
\end{itemize}    


\begin{figure}[h]
  % Requires \usepackage{graphicx}
  \begin{center}
    \includegraphics[width=200pt]{Images/TTxmlModel.eps}
    \caption{Schema de la grille horaire}\label{xmltt}
  \end{center}
\end{figure}


\section{Modélisation de la grille horaire}

La nouvelle structure de la grille horaire de \diamant{} se présente une forme hiérarchique avec à son sommet la grille horaire complète et à la base les périodes.

\begin{figure}[h]
  % Requires \usepackage{graphicx}
  \begin{center}
    \includegraphics[width=200pt]{Images/organigramme.eps}
    \caption{Schema hierarchique de la grille horaire}\label{orgtt}
  \end{center}
\end{figure}

\section{Avantages et limites de cette architecture}
