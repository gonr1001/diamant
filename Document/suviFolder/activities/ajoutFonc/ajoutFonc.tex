
\section{Ajout des fonctionnalités} \label{ajoutFonc}
\subsection*{But de l'activit\'{e}}
Ajouter des fonctionnalités demandées par les utilisateurs.

 Les
ajouts de fonctionnalités sont ordonnés selon leur priorité.

\subsection*{Description}
La liste de caractéristiques à ajouter au 1 septembre 04~:

\begin{itemize}
    \item Horaire sans étudiants. \ref{nostudents}
    \item Définition des ensembles et grille partielle (bug. 8, 12) \ref{partielle}
    \item Assignation  automatique des locaux. \ref{rooms}
    \item Capacité totale de locaux (bug. 3). \ref{capacity}
    \item Algorithme d'optimisation plus efficace (bug. 38). \ref{optim}
    \item Affectation manuelle plus efficace.\ref{affect}
    \item Toolbar et horaire \ref{toolbar}
    \item Raccourcis clavier (bug. 71). \ref{clavier}
    \item Fonction "Undo"  (bug. 4). \ref{undo}
    \item Code de couleur (bug. 22). \label{couleur}
    \item Entête de rapports. \label{rapport}
\end{itemize}

\subsection{Importation sélective (bug. 11, 20) (nov 04)}
    \label{importationSel}
    La fonctionnalité importation sélective est de pouvoir importer un
fichier sans changer les données dans les autres fichiers.
\paragraph{Status}
Fait.

\subsection{Test de classes} \label{tests}

\begin{itemize}
    \item \pro{dInternal/DataExchange} (Fait)
    \item \pro{dInternal/DModelProcess} (Rien)
    \item \pro{dInternal/DObject} (Fait)
    \item \pro{dInternal/DResource} (Fait)
    \item \pro{dInternal/DSetOfResources} (Fait)
    \item \pro{dInternal/DSetOfStates} (Fait)
    \item \pro{dInternal/DState} (Fait)
    \item \pro{dInternal/DValue} (Fait)
    \item \pro{dInternal/dData/ByteArrayMessage} (Fait)
    \item \pro{dInternal/dData/DSaveData} (Fait)
    \item \pro{dInternal/dData/DStandardReportData} (Fait)
    \item \pro{dInternal/dData/StandardCollection} (Fait)
    \item \pro{dInternal/dData/dRooms/SetOfCategories} (Fait)
    \item \pro{dInternal/dData/dStudents/SetOfStuSites} (Fait)
    \item \pro{dInternal/dData/dStudents/SetOfStuCourses}(Fait)
    \item \pro{dInternal/dData/dStudents/Student} (Fait)
    \item \pro{dInternal/dData/dStudents/StuCourses} (Rien) (DValueTest)
    \item \pro{dInternal/dOptimization/Algorithm} (Rien) (Interface)
    \item \pro{dInternal/dOptimization/Condition} (Rien) (Interface)
    \item \pro{dInternal/dOptimization/StudentsGroupsAssignment} (Rien)
    (Cette classe fait rien et elle ne s'utilise pas)
    \item \pro{dInternal/dOptimization/FirstAffectAlgorithm} (Non Fait)
    \item \pro{dInternal/dOptimization/RefinedStudMixAlgo} (Non Fait)
    \item \pro{dInternal/dOptimization/StudentMixingAlgorithm} (Non fait)
\end{itemize}

\subsection{Horaire multi-site} \label{multiSite}
Cette fonctionnalité est pour construire des horaires pour des
facultés ayant des cours sur plusieurs campus.

Il faut avoir un menu pour indiquer dans quel site on travail, ou
dans tous. La grille horaire affichée, doit contenir le conflits
totaux et le conflits du site.

Dialogues~:

\begin{itemize}
    \item Activités (label)
    \item Groupes (indiquer le site)
    \item Enseignant (label)
    \item Locaux (indiquer le site)
    \item Événements (indiquer le site)
    \item Affectation événements (indiquer le site)
\end{itemize}

Affectation initial.

Construire horaire.


\subsection{Horaire sans étudiants} \label{nostudents}

La fonctionnalité permet de faire un horaire sans étudiants.
Nouveau type de fichier avec le nombre maximum d'étudiants par
activité, doit être lu.




\subsection{Assignation  automatique des locaux} \label{rooms}

La fonctionnalité permet de assigner les locaux aux événements
avec une utilisation optimal des locaux.

Quelles classes sont à modifier?


\subsection{Capacité totale de locaux (bug. 3)} \label{capacity}




Quelles classes sont à modifier?



\subsection{Disponibilité des activités} \label{dispo}

La fonctionnalité permet de assigner les locaux aux événements
avec une utilisation optimal des locaux.

\subsection{Algorithme d'optimisation plus efficace (bug. 38)}\label{optim}

\subsection{Affectation manuelle plus efficace} \label{affect}
\subsection{Toolbar et horaire}\label{toolbar}

La fonctionnalité Toolbar est de pouvoir effectuer des
modifications à une grille horaire qui est déjà associée à un
ensemble de données. Ceci c'est le cas lorsque on travaille avec
une grille faite par  Nouvel horaire (cours ou examens).

Il s'agit de modifier la priorité de périodes, de ajouter ou
enlever des journées. Modifier les noms de journées.

Quoi faire avec les données déjà assignés dans la grille si la
période est modifiée ou éliminée.

 Quelles classes sont à modifier?

\subsection{Raccourcis clavier (bug. 71)} \label{clavier}
\subsection{Fonction "Undo"  (bug. 4)} \label{undo}
\subsection{Code de couleur (bug. 22)} \label{couleur}





\subsection{Entête de rapports} \label{rapport}

La fonctionnalité garde toujours l'entête de rapports visible.


\subsection{Grille partielle définition RGR ancienne} \label{partielle}
La fonctionnalité Grille partielle doit permettre de définir un
ensemble d'activités, et de donner un nom à cet ensemble. Ensuite
afficher sur la grille uniquement les cours de l'ensemble choisi.

Il faut aussi sauvegarder les données nom de l'ensemble et les
activités appartenant dans l'ensemble.

\begin{itemize}
    \item Fichiers. Sauvegarde en XML. Indépendance de l'horaire
    en cours.
    \item Modèle. Ensembles avec opérations classiques ajout,
    suppression, recherche et tri.
    \item Vue. \pro{PeriodPanel} qui prend un Panel de plus, pour afficher les conflit partiels et
    le total de conflits.
\end{itemize}

Quelles classes sont à modifier?

\subsection{Définition des ensembles et grille partielle}

\begin{itemize}
  \item Les utilisateurs de Diamant doivent pouvoir créer des
        ensembles d'\texttt{Activités}.

        Le scénario motivant cette spécification est le suivant: après
        avoir réalisé l'assignation des \texttt{Activités} aux
        étudiants, on voudrait être en mesure de vérifier \og
        manuellement \fg{} si l'horaire d'un étudiant \og type \fg{}
        est \og balancé \fg{} ou si pour un département les activités sont balancés.

        Un ensemble est formée par l'utilisateur en choisissant des
        activités ou encore des ensembles. C'est l'utilisateur qui
        va prendre un étudiant ou une cohorte pour former
        l'ensemble.

        Une fois un ensemble formé il sera possible de visualiser
        dans la grille uniquement les activités appartenant à
        l'ensemble.



        En sélectionnant un étudiant \og type
        \fg{} et en formant un ensemble des \texttt{Activités} que cet
        étudiant doit suivre, il serait possible de représenter
        visuellement l'horaire particulier de cet étudiant \og type
        \fg{}.

  \item La formation des ensembles doit se faire par l'entremise d'un
        dialogue respectant les caractéristiques des dialogues déjà
        existants de Diamant.

  \item Il doit être possible d'associer un nom à un ensemble.

  \item Il doit être possible de créer, lire et détruire un ou
        plusieurs ensemble(s).

  \item \textbf{Supporte-t-on l'opération de modification
        d'ensembles?} oui

  \item La sauvegarde d'ensembles doit être persistante.  C'est-à-dire
        qu'il doit être possible de sauvegarder un ou plusieurs
        ensembles créés lors d'une session d'utilisation et de
        récupérer ces ensembles lors d'une session ultérieure.
\end{itemize}

\paragraph{Mock-up du dialogue de gestion des ensembles}

Est-ce que l'on créé un dialogue par opération \og majeure \fg{}
(création, lecture, destruction) ou bien crée-t-on un \og
méga-dialogue \fg{} fourre-tout?
